/*!
 * BootFrame 1.0 
 * Copyright 2015 Peter Bielecki
 */

!function($){function smartlib_preloader(){imageSources=[],$("img").each(function(){var sources=$(this).attr("src");imageSources.push(sources)}),$(imageSources).load()&&$(".smartlib-pre-loader").fadeOut("slow")}var bstarter={common:{init:function(){this.expandNavbarOnClickSearch(),this.animateSection($(".smartlib-animate-object")),this.counterUp($(".smartlib-counter")),this.add_pretty_photo_gallery(),this.addParalaxEffect(),this.displayGooleMap(),this.add_flexy_slider(),this.scrollToElement(),this.scrollToTop(),this.responsive_section()},animateSection:function(items,trigger){items.each(function(){var osElement=$(this),osAnimationClass=osElement.attr("data-os-animation"),osAnimationDelay=osElement.attr("data-os-animation-delay");osElement.css({"-webkit-animation-delay":osAnimationDelay,"-moz-animation-delay":osAnimationDelay,"animation-delay":osAnimationDelay}),"undefined"!=typeof osAnimationClass&&osAnimationClass!==!1&&Modernizr.cssanimations!==!1&&osElement.css({opacity:0});var osTrigger=trigger?trigger:osElement;osTrigger.waypoint(function(){osElement.addClass("animated").addClass(osAnimationClass)},{triggerOnce:!0,offset:"80%"})})},counterUp:function(cunterObj){cunterObj.length>0&&(cunterObj.text(0),cunterObj.waypoint(function(){cunterObj.hasClass("smartlib-counter-end")||(cunterObj.countTo({speed:2100}),cunterObj.addClass("smartlib-counter-end"))},{offset:"90%"}))},expandNavbarOnClickSearch:function(){$(".smartlib-navbar-search-form .smartlib-search-btn").on("click",function(e){var form_container=$(".smartlib-navbar-search-form");form_container.hasClass("smartlib-expanded-search-form")||(form_container.addClass("smartlib-expanded-search-form animated flipInX"),e.preventDefault())}),$(".smartlib-navbar-search-form .smartlib-search-close-form").on("click",function(e){var form_container=$(".smartlib-navbar-search-form");form_container.hasClass("smartlib-expanded-search-form")&&form_container.removeClass("smartlib-expanded-search-form animated flipInX"),e.preventDefault()})},responsive_section:function(){var window_width=$(window).width();$(".smartlib-responsive-section").each(function(index){var section_container=$(this),propotions=section_container.attr("data-proportions");"undefined"!=typeof propotions&&propotions!==!1&&section_container.height(window_width*propotions)})},add_pretty_photo_gallery:function(){$("a[rel^='smartlib-resize-photo']").length>0&&$("a[rel^='smartlib-resize-photo']").prettyPhoto()},add_flexy_slider:function(){var $slider=$(".smartlib-slider-container");$slider.length>0&&$slider.each(function(){$(this).flexslider()})},addParalaxEffect:function(){$window=$(window),$('div[data-type="background"]').each(function(){var $scroll=$(this),bg_color=$scroll.attr("data-overlay-color"),patt=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,matches=patt.exec(bg_color);if(matches){var rgba="rgba("+parseInt(matches[1],16)+","+parseInt(matches[2],16)+","+parseInt(matches[3],16)+",0.8)";$scroll.css("background-color",rgba)}})},scrollToElement:function(){$("body").scrollspy({target:"#smartlib-spy-scroll-nav",offset:50}),$("#smartlib-one-page-menu a").on("click",function(){var $container=$(this),$parent_container=$container.parents("#smartlib-one-page-menu"),containerTo=$container.attr("href"),offset=1*$parent_container.data("scroll-offset");$("html, body").animate({scrollTop:$(containerTo).offset().top-offset},2e3)})},scrollToTop:function(){$btnTop=$("#scroll-top-top"),$(window).scroll(function(){$(this).scrollTop()>100?$btnTop.addClass("slideInUp"):$btnTop.removeClass("slideInUp")}),$btnTop.click(function(){return $("html, body").animate({scrollTop:0},800),!1})},displayGooleMap:function(){$(".smrtlib-google-maps").length>0&&$(".smrtlib-google-maps").each(function(){var containerMap=$(this),markers=containerMap.find(".smartlib-map-marker"),map=new GMaps({scrollwheel:!1,div:"#"+containerMap.attr("id"),zoom:containerMap.data("zoom"),lat:containerMap.data("lat"),lng:containerMap.data("long")});markers.length>0&&markers.each(function(){var marker=$(this);map.addMarker({lat:marker.data("lat"),lng:marker.data("long"),title:marker.data("text"),infoWindow:{content:"<p>"+marker.data("text")+"</p>"}})})})}},home:{init:function(){}},about_us:{init:function(){}},page_portfolio_isotope:{init:function(){this.portfolio_filter()},portfolio_filter:function(){var $portfolioContainer=$(".smartlib-layout-isotope-list");$portfolioContainer.length>0&&($portfolioContainer.shuffle("shuffle"),$(".smartlib-sort-source li a").on("click",function(e){e.preventDefault(),$(".smartlib-sort-source li a").removeClass("smartlib-active-filter");var isActive=$(this).hasClass("smartlib-active-filter");$(this).addClass("smartlib-active-filter");var group=isActive?"all":$(this).data("group");$portfolioContainer.shuffle("shuffle",group)}))}}},UTIL={fire:function(func,funcname,args){var namespace=bstarter;funcname=void 0===funcname?"init":funcname,""!==func&&namespace[func]&&"function"==typeof namespace[func][funcname]&&namespace[func][funcname](args)},loadEvents:function(){UTIL.fire("common"),$.each(document.body.className.replace(/-/g,"_").split(/\s+/),function(i,classnm){UTIL.fire(classnm)})}};$(document).ready(UTIL.loadEvents),$(window).resize(function(){bstarter.common.responsive_section()}),$(window).load(function(){smartlib_preloader()}),$("body").on("touchstart","*",function(){var jQueryElement=$(this),element=jQueryElement.get(0);if(!element.click){var eventObj=document.createEvent("MouseEvents");eventObj.initEvent("click",!0,!0),element.dispatchEvent(eventObj)}})}(jQuery);